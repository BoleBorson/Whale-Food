# docker-compose.yml

version: '3.8'

services:
  server:
    build: ./server/.
    command: uvicorn main:app --host 0.0.0.0
    ports:
      - 9000:8000
    # depends_on:
    #   - db
  web:
    build: ./web/.
    # command: npm run serve
    ports:
      - 80:5173
    depends_on:
      - server
  db:
    build: ./db/.
    ports:
      - 8090:8090
    volumes:
      - pb_data_vol:/pb_data
      - pb_mig_dta_vol:/pb_migrations

volumes:
  pb_data_vol:
  pb_mig_dta_vol:
